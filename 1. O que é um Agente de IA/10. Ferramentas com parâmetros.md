# Resumo da Aula ‚Äì Function Calling com Argumentos (Par√¢metros)

## Objetivo
Mostrar como declarar e usar ferramentas que exigem **par√¢metros (argumentos)**, indo al√©m da fun√ß√£o simples `getTodayDate` (sem args).

## Nova ferramenta de exemplo: `getCountryTemperature`
- **Nome**: `getCountryTemperature`  
- **Descri√ß√£o**: Retorna a temperatura do pa√≠s indicado  
- **Par√¢metros** (declarados no `parameters` da function declaration):

```js
parameters: {
  type: "object",
  properties: {
    country: {
      type: "string",
      description: "O pa√≠s para o qual se quer saber a temperatura."
    },
    isCelsius: {  // par√¢metro opcional adicionado depois
      type: "boolean",
      description: "Se devemos retornar a temperatura em Celsius ou n√£o."
    }
  },
  required: ["country"]  // s√≥ country √© obrigat√≥rio
}
```

### Comportamento da IA com par√¢metros

1. **Pergunta b√°sica**: "Qual a temperatura no Brasil?"  
   ‚Üí IA chama `getCountryTemperature` com:  
   ```js
   args: { country: "Brasil" }
   ```
   (ignora `isCelsius` porque tem default impl√≠cito e n√£o foi mencionado)

2. **Pergunta com Fahrenheit**: "Qual a temperatura no Brasil em Fahrenheit?"  
   ‚Üí IA chama com:  
   ```js
   args: { country: "Brasil", isCelsius: false }
   ```

3. **Pergunta com Celsius expl√≠cito** ‚Üí √†s vezes inclui `isCelsius: true`, √†s vezes ignora (comportamento estoc√°stico)

4. **Default values**  
   - √â poss√≠vel definir default no schema (ex.: `default: true` para `isCelsius`)  
   - A IA tende a omitir par√¢metros com default quando n√£o s√£o mencionados

5. **Required properties**  
   - Definido no array `required: ["country", ...]`  
   - Quando marcado como required, a IA **deve** incluir (mas na pr√°tica pode ignorar ocasionalmente ‚Üí comportamento estoc√°stico ainda existe)

## Como a IA retorna a chamada de fun√ß√£o com argumentos
Na resposta do Gemini, dentro de `parts[0].functionCall`:

```js
{
  name: "getCountryTemperature",
  args: {
    country: "Brasil",
    isCelsius: false  // ou omitido
  }
}
```

- `args` √© um objeto com os par√¢metros nomeados exatamente como declaramos  
- Isso permite que nosso c√≥digo leia dinamicamente o nome da fun√ß√£o e os argumentos para execut√°-la

## Observa√ß√µes importantes do professor
- O processo ainda √© **estoc√°stico**: mesmo com `required`, a IA pode ocasionalmente ignorar ou incluir par√¢metros de forma inesperada  
- Por isso, o controle manual (n√≥s executamos a fun√ß√£o) √© valioso: podemos validar, corrigir ou fallback se necess√°rio  
- Deixar a IA chamar fun√ß√µes automaticamente tem riscos (ex.: par√¢metros errados, chamadas desnecess√°rias)

## Estrutura completa da declara√ß√£o de fun√ß√£o (exemplo final)
```js
{
  name: "getCountryTemperature",
  description: "Retorna a temperatura do pa√≠s indicado.",
  parameters: {
    type: "object",
    properties: {
      country: { type: "string", description: "O pa√≠s para consulta." },
      isCelsius: { type: "boolean", description: "Retornar em Celsius (padr√£o: true)." }
    },
    required: ["country"]
  }
}
```

## Conclus√£o
- Agora dominamos **function calling completo**:  
  - Declara√ß√£o de fun√ß√µes  
  - Par√¢metros nomeados (com tipo, descri√ß√£o, default e required)  
  - Leitura da chamada com argumentos  
  - Fluxo de ida e volta (function call ‚Üí execu√ß√£o ‚Üí function response)

## Pr√≥ximo passo
- Declarar **todas as 6 ferramentas da secret√°ria** (calend√°rio e e-mail)  
- Implementar as fun√ß√µes reais (mockadas)  
- Criar l√≥gica para detectar automaticamente qual fun√ß√£o foi chamada e execut√°-la  
- Testar a secret√°ria completa no terminal

A base t√©cnica est√° pronta! Agora vamos construir a secret√°ria de verdade. üöÄ