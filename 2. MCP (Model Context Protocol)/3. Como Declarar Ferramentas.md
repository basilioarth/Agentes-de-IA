# Resumo da Aula ‚Äì Declarando Ferramentas no MCP Server

## Como declarar ferramentas no MCP Server
No MCP Server, cada ferramenta (`server.tool`) precisa de **quatro elementos principais** (exatamente como no agente secret√°ria, mas de forma mais elegante):

1. **Nome** da ferramenta  
   Ex.: `"getTodayDate"`

2. **Descri√ß√£o**  
   Ex.: `"Retorna a data de hoje."`

3. **Par√¢metros (input schema)**  
   - Usamos a biblioteca **Zod** para definir e validar os tipos  
   - Zod substitui a declara√ß√£o manual de par√¢metros (nome, tipo, descri√ß√£o)  
   - Exemplo com Zod:
     ```ts
     import { z } from "zod";

     const inputSchema = z.object({
       locale: z.string().describe("Lugar onde voc√™ quer saber a data")
     });
     ```
   - Vantagens do Zod:
     - Valida√ß√£o autom√°tica (tamanho, regex, etc.)
     - `.describe()` j√° gera a descri√ß√£o para a IA
     - Muito mais limpo que o JSON manual

4. **Fun√ß√£o execut√°vel (async)**  
   - Recebe os par√¢metros validados  
   - Executa a l√≥gica  
   - **Retorna no formato padr√£o do MCP**:
     ```ts
     return {
       content: [
         {
           type: "text",
           text: "01 de maio de 2025"  // resultado
         }
       ]
     };
     ```

## Exemplo completo da primeira ferramenta
```ts
server.tool({
  name: "getTodayDate",
  description: "Retorna a data de hoje.",
  parameters: z.object({
    locale: z.string().describe("Lugar onde voc√™ quer saber a data")
  }),
  async function(locale: string) {
    const hoje = "01 de maio de 2025";  // mock
    return {
      content: [{ type: "text", text: hoje }]
    };
  }
});
```

## Instala√ß√£o necess√°ria
```bash
npm install zod
```

## Por que usar Zod + TypeScript?
- A biblioteca oficial do MCP √© fortemente tipada  
- Zod gera automaticamente os metadados que a IA precisa (nome, tipo, descri√ß√£o)  
- Evita repetir informa√ß√µes (declara√ß√£o manual como no agente secret√°ria)  
- Valida√ß√£o autom√°tica dos inputs que a IA enviar

## Formato de retorno obrigat√≥rio
Toda ferramenta **deve retornar**:
```ts
{
  content: [
    { type: "text", text: "resultado aqui" }
    // pode ter mais itens no array se precisar
  ]
}
```
√â o padr√£o definido pelo protocolo MCP.

## Pr√≥ximo passo
- Declarar **todas as outras ferramentas da secret√°ria** no MCP Server:
  - `getEvents`
  - `scheduleEvent`
  - `rescheduleEvent`
  - `getEmails`
  - `sendEmail`
- O professor vai **usar uma IA** para gerar o c√≥digo boilerplate (convers√£o autom√°tica das declara√ß√µes antigas + implementa√ß√µes mockadas)  
- Depois: conectar o Gemini (ou outra IA compat√≠vel) a esse MCP Server e ver as ferramentas sendo descobertas e usadas automaticamente

O MCP Server est√° tomando forma!  
Agora as ferramentas n√£o ficam mais "presas" dentro do c√≥digo do agente ‚Äî elas est√£o expostas em um servidor padronizado que **qualquer IA compat√≠vel pode consumir**.  

Isso √© o futuro dos agentes: ferramentas como servi√ßos universais. Pr√≥ximo v√≠deo: gera√ß√£o assistida do c√≥digo restante! üöÄ